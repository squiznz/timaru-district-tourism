function debounce(e,i,s){var t;return function(){var n=this,l=arguments,o=function(){t=null,s||e.apply(n,l)},a=s&&!t;clearTimeout(t),t=setTimeout(o,i),a&&e.apply(n,l)}}function detectScrolling(){function e(){return"undefined"==typeof window.requestAnimationFrame?void i():(n||window.requestAnimationFrame(i),void(n=!0))}function i(){t=$(window).scrollTop(),n=!1,t>=10?$("html").addClass("moving"):$("html").removeClass("moving"),t>=s?$("html").addClass("scrolling"):$("html").removeClass("scrolling")}var s=90,t=0,n=!1;i(),$(window).on("scroll",function(){e()})}function globalActions(){0==$(".pagination a").length&&$(".pagination").hide(),$(".tags-list").each(function(){var e=$(this),s=e.text().trim().split(",");for(e.empty(),i=0;i<s.length;i++){var t='<li class="'+s[i]+'"><span>'+s[i]+"</span></li>";e.append(t)}}),$(".utility-nav__item--primary-toggle a").click(function(e){e.preventDefault(),$(".primary-nav").toggle().toggleClass("open"),$(".utility-nav__item--primary-toggle").toggleClass("close")}),$(".utility-nav__item--search-toggle a").click(function(e){e.preventDefault(),$(".site-search").toggle().toggleClass("open")}),$(".in-this-section h2").click(function(e){e.preventDefault(),$(this).next("ul").toggle()}),$(".site-search input[type=search]").focus(function(){$(this).parent("fieldset").parent("form").parent(".site-search").addClass("site-search--expanded")}),$(".site-search input[type=search]").focusout(function(){$(this).parent("fieldset").parent("form").parent(".site-search").blur().removeClass("site-search--expanded")}),$(".banner").each(function(){var e=$(this).data("img");$(this).hasClass("feature-banner--home")?$(this).css("background",'linear-gradient(rgba(72, 33, 192, 0.84), rgba(72, 33, 192, 0.84)) repeat scroll 0 0%, rgba(0, 0, 0, 0) url("'+e+'") repeat scroll 0 0'):$(this).hasClass("listing-itineraries__header")||$(this).hasClass("itinerary-details__header")?$(this).css("background",'linear-gradient(rgba(0, 28, 66, 0.6), rgba(0, 28, 66, 0.6)) repeat scroll 0 0%, rgba(0, 0, 0, 0) url("'+e+'") repeat scroll 0 0'):$(this).css("background-image","url("+e+")")}),$(".three-best").find("select").change(function(){threeBest()})}function threeBest(){var e=$(".three-best").find("select").val();$("ul[id="+e+"]").each(function(){$(this).show(),$(this).siblings("ul").hide()})}function threeBestSlider(){var e=$(".slick-three-best");$(window).width()<1023?(e.hasClass("slick-initialized")&&e.slick("unslick"),e.slick({dots:!0,centerMode:!0,infinite:!0,speed:300,arrows:!1,slidesToShow:1,variableWidth:!0})):e.hasClass("slick-initialized")&&e.slick("unslick")}function megaMenu(){var e=$(".primary-nav ul li");$(".primary-nav__first-level > li > a").click(function(e){e.preventDefault(),e.stopPropagation(),$(this).parent("li").toggleClass("active").siblings().removeClass("active")}),$("body").click(function(){e.each(function(){$(this).removeClass("active")})})}function threeBestSlider(){var e=$(".slick-three-best");$(window).width()<1023?(e.hasClass("slick-initialized")&&e.slick("unslick"),e.slick({dots:!0,centerMode:!0,infinite:!0,speed:300,arrows:!1,slidesToShow:1,variableWidth:!0})):e.hasClass("slick-initialized")&&e.slick("unslick")}$(document).ready(function(){$(".slick-center ul").slick({dots:!0,infinite:!0,autoplay:!1,slidesToShow:1,slidesToScroll:1,mobileFirst:!0,centerMode:!0,centerPadding:"8.6%",draggable:!1,appendArrows:$(".slick-center .slider-tools"),appendDots:$(".slick-center .slider-dots"),responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1,infinite:!0,dots:!0}}]}),$(".slick").slick({dots:!0,infinite:!0,mobileFirst:!0,slidesToScroll:1,slidesToShow:1}),$(".slick-three-best").slick({dots:!0,infinite:!0,autoplay:!1,slidesToShow:1,slidesToScroll:1,mobileFirst:!0,centerMode:!0,centerPadding:"8.7%",draggable:!1,responsive:[{breakpoint:1024,settings:"unslick"},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".slick-watch-timaru").slick({dots:!0,infinite:!0,mobileFirst:!0,slidesToScroll:1,fade:!0,slidesToShow:1,slidesToScroll:1,centerMode:!1,responsive:[{breakpoint:768,settings:"unslick"}]}),$(".whats-on-slider ul").slick({dots:!0,infinite:!0,autoplay:!1,mobileFirst:!0,draggable:!1,variableWidth:!0,centerMode:!1,initialSlide:1,appendArrows:$(".whats-on-slider .slider-tools"),appendDots:$(".whats-on-slider .slider-dots"),responsive:[{breakpoint:0,settings:"unslick"},{breakpoint:1024,settings:{centerMode:!0,initialSlide:1}}]}),detectScrolling(),globalActions(),threeBest(),megaMenu(),threeBestSlider(),$(window).on("resize",debounce(function(){threeBestSlider()},50))});
